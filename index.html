<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>NuruGrowth AI Poster</title>
	<style>
		body {
			font-family: system-ui, -apple-system, sans-serif;
			max-width: 700px;
			margin: 40px auto;
			padding: 0 16px;
			line-height: 1.5;
			color: #1a202c;
		}
		h1 {
			text-align: center;
			font-size: 1.8rem;
			margin-bottom: 24px;
		}
		button {
			display: block;
			margin: 0 auto 24px;
			padding: 12px 24px;
			font-size: 16px;
			font-weight: 600;
			background: #3182ce;
			color: white;
			border: none;
			border-radius: 6px;
			cursor: pointer;
			transition: background 0.2s;
		}
		button:hover {
			background: #2c5282;
		}
		#output {
			min-height: 80px;
			padding: 16px;
			background: #f8fafc;
			border-radius: 8px;
			border: 1px solid #e2e8f0;
			white-space: pre-wrap;
		}
	</style>
</head>
<body>
	<h1>Your AI Poster</h1>
	<button id="generate">Generate with AI</button>
	<div id="output">Click the button to create a Kingdom-aligned poster for moms.</div>

	<script>
		document.getElementById('generate').addEventListener('click', async () => {
			// ✅ Define input variables (no undefined errors)
			const brand = 'NuruGrowth';
			const industry = 'Marketing Agency';
			const values = 'Sincerity, Efficiency, Faith';
			const tone = 'warm and relatable for moms';

			const outputDiv = document.getElementById('output');
			outputDiv.innerText = 'Generating...';

			try {
				// ✅ Fixed URL: no trailing spaces
				const res = await fetch('https://nurugrowth-ai.vercel.app/api/generate', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ brand, industry, values, tone })
				});

				if (!res.ok) {
					const errorText = await res.text();
					throw new Error(`Server error ${res.status}: ${errorText}`);
				}

				const data = await res.json();
				outputDiv.innerText = data.text || 'No content generated.';

			} catch (error) {
				console.error('Generation failed:', error);
				outputDiv.innerText = '⚠️ Oops! Could not generate. Please try again.';
			}
		});
	</script>
</body>
</html>
